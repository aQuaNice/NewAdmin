<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head></head>
    <body> 
    <div class="pace-activity"></div>
    
	        <script src="../static/js/jquery.min.js" th:src="@{/js/jquery-2.1.1.min.js}"></script>
	         <script src="../static/js/printThis.js" th:src="@{/js/printThis.js}"></script>
	         
	        <script src="../static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
	        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
	         <script type="text/javascript" src="../static/js/moment-with-locales.js" th:src="@{/js/moment-with-locales.js}"></script>
	        <script type="text/javascript" src="../static/js/bootstrap-datetimepicker.js" th:src="@{/js/bootstrap-datetimepicker.js}"></script>
	        
	        <script src="../static/js/fastclick.js" th:src="@{/js/fastclick.js}"></script>
	        <script src="../static/js/nprogress.js" th:src="@{/js/nprogress.js}"></script>
	        <script src="../static/js/custom.js" th:src="@{/js/jquery.smartWizard.js}"></script>
	                        
         	<script src="../static/js/pace.js" th:src="@{/js/pace.js}"></script>
         	<script src="../static/js/custom.js" th:src="@{/js/custom.js}"></script>
         	<script src="../static/js/custom.js" th:src="@{/js/main.js}"></script>
		
<!-- 		<script src="webjars/sockjs-client/1.0.2/sockjs.js" th:src="@{webjars/sockjs-client/1.0.2/sockjs.js}"></script> -->
<!--     <script src="webjars/stomp-websocket/2.3.4/lib/stomp.js" th:src="@{webjars/stomp-websocket/2.3.4/lib/stomp.js}"></script> -->
              
<!--               <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script> -->
  			  <script src="../static/js/angular.js" th:src="@{/js/angular.js}"></script>
              <script src="../static/js/ng-stomp.standalone.min.js" th:src="@{/js/ng-stomp.standalone.min.js}"></script>
<!--               <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script> -->
              
              

<!-- Latest compiled and minified JavaScript -->
				
              
<!--               main -->
              
<!-- 	<script src="ng-stomp.standalone.min.js"></script> -->
              
              
          <script>

          appmain.initialize();
          var app = angular.module('AdminApp', ['ngStomp']);

          function SetDate() {
        	  var todayDate = new Date().getDate();
        	    $('.datetimepicker6').datetimepicker({
        	    	 minDate: moment(), // Current day
//         	    	 dateFormat: 'mm-dd-yyy'
//         	    	 locale: 'ru'
//         	    	 format: 'DD-MM-YYYY HH:mm:ss'
            	    });
        	    
        	    $('.datetimepicker7').datetimepicker({
        	        useCurrent: false, //Important! See issue #1075
        	        minDate: new Date(new Date().setDate(todayDate - 1)), // Current day
//         	        dateFormat: 'yyyy-mm-dd'
//         	        format: 'DD-MM-YYYY HH:mm:ss'
        	    });
        	    $(".datetimepicker6").on("dp.change", function (e) {
        	        $('.datetimepicker7').data("DateTimePicker").minDate(e.date);
        	    });
        	    $(".datetimepicker7").on("dp.change", function (e) {
        	        $('.datetimepicker6').data("DateTimePicker").maxDate(e.date);
        	    });
        	} 
// 	        $('form').submit(function(ev) {
// 	        	console.log("the form has submit")
// 	            ev.preventDefault();
// 	        });
      
          app.controller('LiveController', function ($stomp, $scope) {
        	 
              $scope.jumlah = 0;
              $scope.myres = [];  
              $stomp.connect('http://172.16.10.155:8091/api/livescore-websocket', {})
                    .then(function (frame) {
                        var subscription = $stomp.subscribe('/live/regis', 
                            function (payload, headers, res) {
                        	 var myEl = angular.element('#count1')     
// 	                        	$scope.myres = payload;
//                                 $scope.$apply($scope.myres);
                                $scope.jumlah++;
                           myEl.text($scope.jumlah)
                        });
                        
                        var subscription = $stomp.subscribe('/live/order', 
                                function (payload, headers, res) {
                            	 var myEl = angular.element('#count2')     
//     	                        	$scope.myres = payload;
//                                     $scope.$apply($scope.myres);
                                    $scope.jumlah++;
                               myEl.text($scope.jumlah)
                            });
                     });
          });          


//           appmain.initialize();
//           window.onbeforeunload = renderLoading;
//           function renderLoading() {
//               Pace.stop();
//               //Pace.start();
//               Pace.bar.render();
//           }

//           $(document).ready(function() {
//               $('#wizard').smartWizard();

//               $('#wizard_verticle').smartWizard({
//                 transitionEffect: 'slide'
//               });

//               $('.buttonNext').addClass('btn btn-success');
//               $('.buttonPrevious').addClass('btn btn-primary');
//               $('.buttonFinish').addClass('btn btn-default');
//             });





          </script>
          
         <script>
// $(document).ready(function () {

//     $("#btnSubmit").click(function (event) {

//         //stop submit the form, we will post it manually.
//         event.preventDefault();

//         fire_ajax_submit();

//     });

// });


// function fire_ajax_submit() {
//     // Get form
//     var form = $('#fileUploadForm')[0];
//     var data = new FormData(form);

//     $.ajax({
//         type: "POST",
//         enctype: 'multipart/form-data',
//         url: "http://localhost:8080/set-upload",
//         data: data,
//         processData: false, //prevent jQuery from automatically transforming the data into a query string
//         contentType: false,
//         cache: false,
//         timeout: 600000,
//         success: function (data) {
//             $("#result").text(data);
//             console.log("SUCCESS : ", data);
//             $("#btnSubmit").prop("disabled", false);
//         },
//         error: function (e) {
//             $("#result").text(e.responseText);
//             console.log("ERROR : ", e);
//             $("#btnSubmit").prop("disabled", false);

//         }
//     });

// }
</script> 
       
        
    </body>
    
</html>
